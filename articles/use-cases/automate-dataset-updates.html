<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automate Dataset Updates â€¢ pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="Automate Dataset Updates">
<meta property="og:description" content="pins">
<meta property="og:image" content="https://pins.rstudio.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">pins</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../articles/pins.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/pins-rstudio.html">Using Pins in RStudio</a>
    </li>
    <li>
      <a href="../../articles/advanced-versions.html">Versioning</a>
    </li>
    <li>
      <a href="../../articles/advanced-too-big.html">Too Big To Pin</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Use cases</li>
    <li>
      <a href="../../articles/use-cases/reuse-tidy-datasets.html">Reuse Tidy Datasets</a>
    </li>
    <li>
      <a href="../../articles/use-cases/automate-dataset-updates.html">Automate Dataset Updates</a>
    </li>
    <li>
      <a href="../../articles/use-cases/create-data-pipelines.html">Create Data Pipelines</a>
    </li>
    <li>
      <a href="../../articles/use-cases/update-plumber-and-shiny-apps.html">Update Plumber and Shiny Apps</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Developer</li>
    <li>
      <a href="../../articles/pins-extending.html">Extending Pins</a>
    </li>
    <li>
      <a href="../../articles/boards-extending.html">Extending Boards</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="automate-dataset-updates_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Automate Dataset Updates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/use-cases/automate-dataset-updates.Rmd"><code>vignettes/use-cases/automate-dataset-updates.Rmd</code></a></small>
      <div class="hidden name"><code>automate-dataset-updates.Rmd</code></div>

    </div>

    
    
<p>After datasets are shared (as showcased in the <a href="reuse-tidy-datasets.htm">Reuse Tidy Datasets</a> use case), it is often useful to also consider automating this process. This is especially interesting for datasets that tend to get out-of-date constantly.</p>
<p>For example, if we were interested in updating a pin to track daily news from the <a href="http://feeds.bbci.co.uk/news/world/rss.xml">BBC World News RSS</a>, we could create the following <a href="https://rmarkdown.rstudio.com/">R Markdown</a> report to download the RSS feed, tidy the news, and publish a pin with the up-to-date news:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a>---</span>
<span id="cb1-2"><a href="#cb1-2"></a>title: "RStudio Connect -- World News"</span>
<span id="cb1-3"><a href="#cb1-3"></a>---</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="bn">```{r, setup, include = FALSE}</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="bn">library(pins)</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="bn">board_register_rsconnect(key = Sys.getenv("CONNECT_API_KEY"),</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="bn">                         server = Sys.getenv("CONNECT_SERVER"))</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="bn">```</span></span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a>Create the <span class="bn">`world_news`</span> data frame,</span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="bn">```{r  fig.align='center', warning=FALSE}</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="bn">library(xml2)</span></span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="bn">world_news &lt;- data.frame(title = xml_text(xml_find_all(</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="bn">  read_xml("http://feeds.bbci.co.uk/news/rss.xml"), "///item/title/node()")))</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="bn">```</span></span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a>Which you can then share as a pin,</span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="bn">```{r}</span></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="bn">pin(world_news, "worldnews", board = "rsconnect")</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="bn">```</span></span></code></pre></div>
<p>While you can run manually this report each time you need the <code>worldnews</code> pin updated, using automated techniques makes so much sense.</p>
<p>The <code>pins</code> package does not provide support to automate execution of R code; however, many tools and services can be used in combination with <code>pins</code> to update datasets with ease. For instance, when using GitHub, Travis can be used in combination with a <code>GITHUB_PAT</code> environment variable to knit this daily news report and update pins in GitHub. Similarly, using RStudio Connect, we can easily publish this report and configure RStudio Connect to run this report daily â€“ the pin will then be kept up-to-date, every-day, automatically!</p>
<p>You can preview the <code>worldnews</code> dataset at <a href="https://beta.rstudioconnect.com/connect/#/apps/7532/access">beta.rstudioconnect.com/connect/#/apps/7532/access</a>:</p>
<p><a href="https://beta.rstudioconnect.com/connect/#/apps/7532/access"><img src="images/schedule-updates-rsconnect.png"></a></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
